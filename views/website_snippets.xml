<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Definición del snippet -->
    <template id="s_leaflet_mapa" name="Mapa Leaflet">
        <section class="s_leaflet_mapa pt32 pb32">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <h3 class="text-center">Mapa Interactivo</h3>
                        <div id="map" style="height: 400px; background-color: #f8f9fa; border: 1px solid #dee2e6;">
                            <!-- El mapa se cargará aquí mediante JavaScript -->
                            <div class="d-flex align-items-center justify-content-center h-100">
                                <div class="text-center text-muted">
                                    <i class="fa fa-map fa-3x mb-2"></i>
                                    <p>Mapa interactivo (cargará en vista previa)</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </template>

    <!-- Registro en el editor -->
    <template id="snippets" inherit_id="website.snippets">
        <xpath expr="//div[@id='snippet_structure']/div[hasclass('o_panel_body')]" position="inside">
            <t t-snippet="web_leaflet_mapa_regiones.s_leaflet_mapa"
               t-thumbnail="/web_leaflet_mapa_regiones/static/description/thumb.svg"/>
        </xpath>
    </template>

    <!-- Opciones del snippet (mantenerlo simple por ahora) -->
    <template id="options" inherit_id="website.snippet_options">
        <xpath expr="//div[@data-js='Box']" position="after">
            <div data-js="LeafletMapOptions" data-selector=".s_leaflet_mapa">
                <we-row string="Mapa">
                    <we-button title="Recargar Mapa" class="fa fa-refresh"/>
                </we-row>
            </div>
        </xpath>
    </template>
</odoo>